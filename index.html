<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <title>Food Chain TCG Prototype</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;500;600&family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="overlay deck-select-overlay" id="deck-select-overlay" aria-hidden="true">
      <div class="overlay-content deck-select-card">
        <div class="deck-select-header">
          <div class="deck-select-icon">üÉè</div>
          <div>
            <h2 id="deck-select-title">Player 1 Deck Selection</h2>
            <p id="deck-select-subtitle">Choose the animal category for Player 1.</p>
          </div>
        </div>
        <div class="deck-select-grid" id="deck-select-grid"></div>
      </div>
    </div>

    <div class="overlay deck-overlay" id="deck-overlay" aria-hidden="true">
      <div class="overlay-content deck-builder">
        <div class="deck-header">
          <h2 id="deck-title">Deck Builder</h2>
          <div class="deck-status" id="deck-status"></div>
        </div>
        <div class="deck-tabs">
          <button class="deck-tab active" data-tab="catalog">Catalog</button>
          <button class="deck-tab" data-tab="deck">My Deck</button>
        </div>
        <div class="deck-content">
          <div class="deck-panel deck-catalog-panel active">
            <div class="deck-grid" id="deck-full-row"></div>
          </div>
          <div class="deck-panel deck-added-panel">
            <div class="deck-grid" id="deck-added-row"></div>
          </div>
        </div>
        <div class="deck-inspector" id="deck-inspector"></div>
        <div class="deck-actions">
          <button class="deck-save" id="deck-save" type="button">Save Deck</button>
          <button class="deck-random" id="deck-random" type="button">Random</button>
          <button class="btn-primary" id="deck-confirm" type="button">Confirm Deck</button>
        </div>
      </div>
    </div>

    <div class="overlay setup-overlay" id="setup-overlay" aria-hidden="true">
      <div class="overlay-content setup-card">
        <div class="setup-icon">üé≤</div>
        <h2 id="setup-title">Opening Roll</h2>
        <p id="setup-subtitle">Each player rolls a d10 to decide who chooses first.</p>
        <div class="setup-rolls" id="setup-rolls"></div>
        <div class="setup-actions" id="setup-actions"></div>
      </div>
    </div>

    <div class="overlay pass-overlay" id="pass-overlay" aria-hidden="true">
      <div class="overlay-content pass-card">
        <div class="pass-icon">üîÑ</div>
        <h2 id="pass-title">Pass to Player 2</h2>
        <p>Hand the device to the next player, then tap OK when ready.</p>
        <button class="btn-primary" id="pass-confirm">OK</button>
      </div>
    </div>

    <div class="overlay menu-overlay" id="menu-overlay" aria-hidden="true">
      <div class="overlay-content menu-card">
        <div class="menu-header">
          <div class="menu-icon">üçΩÔ∏è</div>
          <div>
            <h2>Food Chain TCG</h2>
            <p class="muted">Choose how you want to play.</p>
          </div>
        </div>
        <div class="menu-status" id="menu-status"></div>
        <div class="menu-actions">
          <button class="btn-primary" id="menu-play">Play (one device)</button>
          <button class="btn-secondary" id="menu-login">Login</button>
          <button class="btn-secondary" id="menu-catalog" disabled>Catalog</button>
        </div>
      </div>
    </div>

    <div class="overlay login-overlay" id="login-overlay" aria-hidden="true">
      <div class="overlay-content menu-card login-card">
        <div class="menu-header">
          <div class="menu-icon">üîê</div>
          <div>
            <h2>Quick Login</h2>
            <p class="muted">Enter a username to save decks and join lobbies.</p>
          </div>
        </div>
        <form class="menu-form" id="login-form">
          <label class="menu-label" for="login-username">Username</label>
          <input
            class="menu-input"
            id="login-username"
            name="username"
            autocomplete="username"
            placeholder="e.g. KrakenQueen"
            required
          />
          <div class="menu-error" id="login-error" role="alert"></div>
          <div class="menu-actions">
            <button class="btn-primary" type="submit" id="login-submit">Continue</button>
            <button class="btn-secondary" type="button" id="login-cancel">Back</button>
          </div>
        </form>
      </div>
    </div>

    <div class="overlay multiplayer-overlay" id="multiplayer-overlay" aria-hidden="true">
      <div class="overlay-content menu-card">
        <div class="menu-header">
          <div class="menu-icon">üåê</div>
          <div>
            <h2>Multiplayer</h2>
            <p class="muted">Create or join a lobby with a friend.</p>
          </div>
        </div>
        <div class="menu-actions">
          <button class="btn-primary" id="lobby-create">Create Lobby</button>
          <button class="btn-secondary" id="lobby-join">Join Lobby</button>
          <button class="btn-secondary" id="multiplayer-back">Back</button>
        </div>
        <form class="menu-form" id="lobby-join-form">
          <label class="menu-label" for="lobby-code">Lobby Code</label>
          <input
            class="menu-input"
            id="lobby-code"
            name="code"
            autocomplete="off"
            placeholder="ABC123"
          />
          <div class="menu-error" id="lobby-error" role="alert"></div>
          <div class="menu-actions">
            <button class="btn-primary" type="submit">Join</button>
            <button class="btn-secondary" type="button" id="lobby-join-cancel">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <div class="overlay lobby-overlay" id="lobby-overlay" aria-hidden="true">
      <div class="overlay-content menu-card">
        <div class="menu-header">
          <div class="menu-icon">üß©</div>
          <div>
            <h2>Lobby</h2>
            <p class="muted" id="lobby-status">Waiting for opponent...</p>
          </div>
        </div>
        <div class="lobby-code" id="lobby-code-display">----</div>
        <div class="menu-actions">
          <button class="btn-primary" id="lobby-continue">Continue to Game</button>
          <button class="btn-secondary" id="lobby-leave">Leave Lobby</button>
        </div>
        <div class="menu-error" id="lobby-live-error" role="alert"></div>
      </div>
    </div>

    <div class="game-container">
      <header class="top-bar">
        <div class="player-badge player-left">
          <div class="player-info">
            <span class="player-name" id="player1-name">Player 1</span>
            <div class="player-stats">
              <span id="player1-hp">HP: 10</span>
              <span id="player1-deck">Deck: 20</span>
            </div>
          </div>
        </div>
        <button class="turn-badge" id="turn-badge" type="button" aria-label="Advance phase">
          <span class="turn-number" id="turn-number">Turn 1</span>
          <span class="phase-label" id="phase-label">Main</span>
        </button>
        <div class="player-badge player-right">
          <div class="player-info right">
            <span class="player-name" id="player2-name">Player 2</span>
            <div class="player-stats">
              <span id="player2-hp">HP: 10</span>
              <span id="player2-deck">Deck: 20</span>
            </div>
          </div>
        </div>
      </header>

      <button class="page-nav page-nav-left" id="nav-left" aria-label="Previous page">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M15 18l-6-6 6-6" fill="none" stroke="currentColor" stroke-width="2" />
        </svg>
      </button>
      <button class="page-nav page-nav-right" id="nav-right" aria-label="Next page">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M9 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" />
        </svg>
      </button>

      <div class="pages-container" id="pages-container">
        <section class="page page-battlefield active" data-page="0">
          <div class="battlefield-layout">
            <div class="battlefield-region">
              <div class="battlefield">
                <div class="field-row opponent-field">
                  <div class="field-slot" data-slot="0"></div>
                  <div class="field-slot" data-slot="1"></div>
                  <div class="field-slot" data-slot="2"></div>
                </div>
                <div class="field-divider">
                  <p class="field-divider-text">
                    Food Chain‚Ñ¢ (C) Food Chain TCG. All rights reserved.
                  </p>
                  <button class="info-toggle" id="info-toggle" type="button">Info</button>
                </div>
                <div class="field-row player-field">
                  <div class="field-slot" data-slot="0"></div>
                  <div class="field-slot" data-slot="1"></div>
                  <div class="field-slot" data-slot="2"></div>
                </div>
              </div>
            </div>
            <div class="hand-panel">
              <div class="hand-container">
                <div class="hand-header">
                  <h3 class="hand-title">Your Hand</h3>
                </div>
                <div class="hand-grid" id="active-hand"></div>
              </div>
            </div>
          </div>
        </section>

        <section class="page page-info" data-page="1">
          <div class="info-container">
            <div class="info-header">
              <h3>Info</h3>
              <button class="info-toggle info-toggle--back" id="info-back" type="button">
                Field
              </button>
            </div>
            <div class="info-section inspector-section">
              <h3>Card Inspector</h3>
              <div class="inspector-content" id="card-inspector"></div>
            </div>
            <div class="info-section log-section">
              <h3>Game Log</h3>
              <div class="log-content" id="log-panel"></div>
            </div>
            <div class="info-section piles-section">
              <h3>Piles</h3>
              <div class="piles-grid">
                <div class="pile-item">
                  <span>Carrion</span>
                  <strong id="active-carrion">0</strong>
                </div>
                <div class="pile-item">
                  <span>Exile</span>
                  <strong id="active-exile">0</strong>
                </div>
                <div class="pile-item">
                  <span>Traps</span>
                  <strong id="active-traps">0</strong>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <footer class="action-bar" id="action-bar">
        <div class="selection-panel" id="selection-panel"></div>
        <div class="action-panel" id="action-panel"></div>
      </footer>

      <div class="page-dots" id="page-dots">
        <button class="page-dot active" data-page="0"></button>
        <button class="page-dot" data-page="1"></button>
      </div>
    </div>

    <script type="module" src="js/main.js"></script>
  </body>
</html>
